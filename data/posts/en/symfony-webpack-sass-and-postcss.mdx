---
title: "Initializing a Symfony Project with Webpack Encore Bundle, Sass, and PostCSS"
summary: "Symfony is a popular and powerful PHP framework that enables developers to build scalable, high-performance web applications. On the other hand, Webpack is a widely used JavaScript module bundler that simplifies dependency management and resource optimization in modern web apps."
cover: "/images/data/symfony-webpack-sass-and-postcss.png"
publishedAt: "2023-04-11 19:00:00"
topics:
  - Backend
  - Symfony
---

Symfony is a popular and powerful PHP framework that enables developers to build scalable, high-performance web applications.
On the other hand, Webpack is a widely used JavaScript module bundler that simplifies dependency management and resource optimization in modern web applications.
Integrating Webpack into a Symfony project significantly improves the development workflow by providing an efficient and flexible solution for
managing and compiling frontend assets like JavaScript, CSS, and image files.

In this article, we’ll explore how to initialize a Symfony project and configure it to use the Webpack Encore Bundle—a package that integrates Webpack into Symfony.

By the end of this guide, you’ll have a solid understanding of how to set up and use the Webpack Encore Bundle in a Symfony project,
enabling you to improve efficiency and organization in your web applications. You’ll also be able to apply these techniques to future Symfony
projects to fully leverage the benefits of both Symfony and Webpack.

To get started initializing a Symfony project with the Webpack Encore Bundle, follow these steps:

## Create a New Symfony Project

Open your terminal and run the following command to create a new Symfony project via Composer:

```bash
composer create-project symfony/skeleton my_project_directory
```

Replace `my_project_directory` with your desired project folder name. Once that finishes, navigate into your project directory:

```bash
cd my_project_directory
```

## Install the Symfony Webpack Encore Bundle

Webpack Encore is a JavaScript library that streamlines Webpack integration in Symfony projects. To install Encore and its dependencies, run:

```bash
composer require symfony/webpack-encore-bundle
```

This will add the necessary package and update your `composer.json`.

## Install Node.js Dependencies

Encore relies on Node.js and npm (or Yarn) to manage JavaScript and CSS dependencies. Make sure you have Node.js and npm (or Yarn) installed:

```bash
node -v
npm -v
```

If you don’t, download and install them from the official [Node.js](https://nodejs.org/en) website.

Then, in your project root, install the Node.js dependencies:

```bash
npm install
```

## Configure Webpack Encore

Encore creates a `webpack.config.js` file in your project root. Open it and customize as needed. Here’s a basic example:

```js
const Encore = require("@symfony/webpack-encore");

if (!Encore.isRuntimeEnvironmentConfigured()) {
  Encore.configureRuntimeEnvironment(process.env.NODE_ENV || "dev");
}

Encore.setOutputPath("public/build/")
  .setPublicPath("/build")

  .addEntry("app", "./assets/app.js")

  .splitEntryChunks()
  .enableSingleRuntimeChunk()
  .cleanupOutputBeforeBuild()
  .enableBuildNotifications()
  .enableSourceMaps(!Encore.isProduction())
  .enableVersioning(Encore.isProduction())

  .configureBabelPresetEnv((config) => {
    config.useBuiltIns = "usage";
    config.corejs = "3.23";
  });

module.exports = Encore.getWebpackConfig();
```

## Build Frontend Assets

To compile your frontend assets (JavaScript, CSS, images, etc.):

```bash
npm run dev
```

To watch for changes and rebuild automatically:

```bash
npm run watch
```

For production-ready builds:

```bash
npm run build
```

## Integrate Assets into Twig Templates

In your base Twig template (e.g., `templates/base.html.twig`), add Encore’s helper functions to load CSS and JS:

```twig
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        {# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>
    <body>
        {% block body %}{% endblock %}
    </body>
</html>
```

Encore will automatically inject the correct `encore_entry_link_tags()` and `encore_entry_script_tags()` tags for your compiled assets.

## Create Your First Route and View

- Controller: In `src/Controller/HomeController.php`:

```php
// src/Controller/HomeController.php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\Routing\Annotation\Route;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\HttpFoundation\Request;

class HomeController extends AbstractController
{
    /**
     * @Route("/", name="home_page")
     */
    public function index(Request $request): Response
    {
        return $this->render("home.html.twig");
    }
}
```

- Template: In `templates/home.html.twig`:

```twig
{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block body %}
    <h1>Hello world!</h1>
{% endblock %}
```

This sets up a `/` route (`home_page`) and renders a simple “Hello world!” view.

## Configure Sass

- Encore makes it easy to use Sass. First, install the loader and Sass:

```bash
npm install sass-loader@^13.0.0 sass --save-dev
```

- Then enable Sass in `webpack.config.js`:

```js
.enableSassLoader()
```

- Rename your CSS files to `.scss` (e.g., `assets/css/styles.scss`) and import them in `assets/app.js`:

```js
// assets/app.js

import "./styles/app.scss";
```

Encore will compile your Sass to CSS automatically.

## Configure PostCSS Loader

To optimize your CSS with PostCSS and plugins like Autoprefixer:

- Install PostCSS loader and Autoprefixer:

```bash
npm install postcss-loader autoprefixer --save-dev
```

- Create `postcss.config.js` in your project root:

```js
// postcss.config.js

module.exports = {
  plugins: {
    // include whatever plugins you want
    // but make sure you install these via yarn or npm!

    // add browserslist config to package.json (see below)
    autoprefixer: {},
  },
};
```

- Add a browserslist section in `package.json`:

```json
// package.json

  "browserslist": [
    "> 1%",
    "last 2 versions",
    "not dead"
  ]
```

- Enable PostCSS in `webpack.config.js` before your style loaders:

```js
const Encore = require("@symfony/webpack-encore");

if (!Encore.isRuntimeEnvironmentConfigured()) {
  Encore.configureRuntimeEnvironment(process.env.NODE_ENV || "dev");
}

Encore.setOutputPath("public/build/")
  .setPublicPath("/build")

  .addEntry("app", "./assets/app.js")

  .splitEntryChunks()
  .enableSingleRuntimeChunk()
  .cleanupOutputBeforeBuild()
  .enableBuildNotifications()
  .enableSourceMaps(!Encore.isProduction())
  .enableVersioning(Encore.isProduction())

  .configureBabelPresetEnv((config) => {
    config.useBuiltIns = "usage";
    config.corejs = "3.23";
  })

  .enablePostCssLoader()
  .enableSassLoader();

module.exports = Encore.getWebpackConfig();
```

With this setup, PostCSS (via `postcss-loader`) will process your CSS—adding vendor prefixes and other optimizations as configured.

You’ve now initialized a Symfony project with Webpack Encore and configured your frontend tooling for JavaScript, CSS, Sass, and PostCSS.
This workflow will keep your assets organized and optimized as you develop your application.

Thank you for reading! The complete project code is available on [Github](https://github.com/alckordev/symfony-webpack-encore-bundle).
Feel free to clone or fork the repository and use it as a starting point for your own Symfony projects. If you find any issues or have improvements,
please open an issue or submit a pull request.

Good luck with your Symfony and Webpack Encore journey!
